# Repository Guidelines

## Overview
This repository provides `drizzle-uncache`, an `unstorage`-backed cache adapter for Drizzle ORM.

## Project Structure & Module Organization
- `src/`: library source code (published entrypoints).
- `test/`: Vitest tests for TTL, tags, and invalidation behavior.
- `dist/`: build output (generated by `bun run build`).
- `.github/workflows/`: CI and release pipelines.

## Build, Test, and Development Commands
- `bun install`: install dependencies (commit `bun.lock`).
- `bun run dev`: run Vitest in watch mode.
- `bun run test`: run Biome checks, typecheck, and the test suite.
- `bun run build`: build to `dist/` using `unbuild`.
- `bun run check:fix`: apply Biome formatting and safe fixes.
- You can run scripts via `npm run`, `pnpm`, or `yarn`, but keep `bun.lock` as the only committed lockfile.

## Coding Style & Naming Conventions
- TypeScript is `strict`; keep public APIs typed and stable.
- Use Biome for formatting and linting; avoid stylistic one-off changes.
- Prefer Web-standard APIs in runtime code where possible (the adapter should work in Node/Bun and serverless runtimes).

## Testing Guidelines
- Add tests in `test/` for behavior changes (TTL, tags, invalidation).
- Prefer fake timers for TTL checks to keep the suite fast and deterministic.

## Commit & Pull Request Guidelines
- Use Conventional Commits (`feat:`, `fix:`, `docs:`, `chore:`).
- PRs include a short description and relevant test coverage.
- Releases are automated via GitHub Actions + `semantic-release` on `main` using npm Trusted Publishing (OIDC) with provenance.

## Security & Configuration Tips
- Never commit secrets; use `.env` locally and add `.env.example` for documented variables.

## Agent-Specific Instructions
- Make small, reviewable patches; keep changes focused.
- Update this file when you introduce new tooling, directories, or conventions.
